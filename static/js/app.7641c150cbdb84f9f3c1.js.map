{"version":3,"sources":["webpack:///./src/App.vue?0913","webpack:///./src/App.vue","webpack:///./src/router/index.js","webpack:///./src/store/mutations.js","webpack:///./src/store/actions.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/utils/req.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","Vue","use","Router","router","routes","path","name","component","Promise","all","e","then","bind","redirect","children","beforeEach","to","form","next","JSON","parse","sessionStorage","getItem","Toast","fail","push","state","user","cartList","mutations","changeUser","setItem","stringify_default","removeItem","changeCartList","data","actions","userActions","context","commit","cartListActions","uid","getCartList","res","list","Vuex","store","Store","getters","sum","map","item","price","num","total","Vant","prototype","$preImg","el","components","App","template","d","__webpack_exports__","getBanner","getIndexGoods","getCateTree","getGoodsList","register","login","addCart","delCart","__WEBPACK_IMPORTED_MODULE_0_axios__","__WEBPACK_IMPORTED_MODULE_0_axios___default","n","__WEBPACK_IMPORTED_MODULE_1_qs__","__WEBPACK_IMPORTED_MODULE_1_qs___default","__WEBPACK_IMPORTED_MODULE_2_vant__","axios","interceptors","request","config","console","group","url","headers","authorization","token","response","code","msg","method","params","qs","stringify"],"mappings":"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","file":"static/js/app.7641c150cbdb84f9f3c1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-aa3aa370\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-aa3aa370\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-aa3aa370\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport {Toast} from 'vant'\n\nVue.use(Router)\n\nconst index = ()=>import('../pages/index')\n\n\nconst login = ()=>import('../pages/login')\nconst register = ()=>import('../pages/register')\nconst home = ()=>import('../pages/home')\nconst cate = ()=>import('../pages/cate')\nconst cart = ()=>import('../pages/cart')\nconst goodsList = ()=>import('../pages/goodsList')\nconst mine = ()=>import('../pages/mine')\nconst router=new Router({\n  routes: [\n    {\n      path: '/',\n      name: '首页',\n      component: index,\n      redirect:'/home',\n      children:[\n        {\n          path:'home',\n          component:home\n        },\n        {\n          path:'cate',\n          component:cate\n        },\n        {\n          path:'cart',\n          component:cart\n        },\n        {\n          path:'mine',\n          component:mine\n        },\n      ]\n    },\n    {\n      path:'/login',\n      component:login,\n    },\n    {\n      path:'/register',\n      component:register,\n    },\n    {\n      path:'/goodsList',\n      component:goodsList,\n    },\n    {\n      path:'*',\n      redirect:'/login',\n    }\n  ]\n})\n\n\n// 全局路由守卫  beforeEach(to , form ,next) 三个参数系统自带\nrouter.beforeEach((to,form,next)=>{\n  // 判断：去到哪\n  if(to.path == '/mine' || to.path == '/cart'){\n    // 获取用户信息\n    const user = JSON.parse(sessionStorage.getItem('user'))\n    if(!user){\n      Toast.fail('请登录');\n      router.push('/login')\n      return\n    }\n  }\n  next();\n})\n\nexport default router\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","export const state = {\r\n    user: sessionStorage.getItem('user') ? JSON.parse(sessionStorage.getItem('user')) : null,\r\n    cartList: [],\r\n}\r\nexport const mutations = {\r\n    changeUser(state, user) {\r\n        state.user = user;\r\n        if (user) {\r\n            // 存储用户信息\r\n            sessionStorage.setItem('user', JSON.stringify(user))\r\n        } else {\r\n            // 否则则清除\r\n            sessionStorage.removeItem('user')\r\n        }\r\n    },\r\n    changeCartList(state, data) {\r\n        state.cartList = data\r\n    }\r\n}\r\n\r\nexport const getters = {\r\n    // 用户信息数据\r\n    user(state) {\r\n        return state.user\r\n    },\r\n    // 购物车列表数据\r\n    cartList(state) {\r\n        return state.cartList\r\n    },\r\n    // 订单价格\r\n      sum(state){\r\n        let sum = 0;\r\n        if(state.cartList !== null){\r\n          state.cartList.map(item=>{\r\n            sum += item.price*item.num\r\n          })\r\n        }\r\n        return sum*100\r\n      },\r\n    // 购物车图标数量变化\r\n      total(state){\r\n        let total = 0;\r\n        if(state.cartList !== null) {\r\n          state.cartList.map(item=>{\r\n            total += item.num\r\n          })\r\n        }\r\n        return total\r\n      }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations.js","import {getCartList} from \"../utils/req\";\r\nexport default{\r\nuserActions(context,user){\r\n    context.commit('changeUser',user)\r\n},\r\ncartListActions(context,uid){\r\n    getCartList({uid}).then(res=>{\r\n        context.commit('changeCartList',res.data.list)\r\n    })\r\n}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions.js","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nVue.use(Vuex)\r\n\r\nimport {state,mutations,getters} from './mutations'\r\nimport actions from './actions'\r\nexport default new Vuex.Store({\r\n  state,\r\n  mutations,\r\n  actions,\r\n  getters,\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\n\n// 引入vant组件\nimport Vant from 'vant';\nimport 'vant/lib/index.css';\n\nVue.use(Vant);\n\n// Vue.prototype.$preImg = \"http://localhost:3000\";\nVue.prototype.$preImg = \"\";\n\nimport store from './store'\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import axios from 'axios'\r\nimport qs from 'qs'\r\n// vant里的错误信息提示插件\r\nimport {Toast} from 'vant'\r\n\r\n// const baseURL = \"/api\";\r\nconst baseURL = \"\";\r\n\r\n\r\n// 设置请求头\r\naxios.interceptors.request.use(config=>{\r\n  console.group(\"本次请求地址为:\"+config.url)\r\n  // 设置请求头\r\n  const user = JSON.parse(sessionStorage.getItem('user'))\r\n  if(user){\r\n    // 设置请求头\r\n    config.headers.authorization = user.token;\r\n  }\r\n  return config\r\n})\r\n// 设置响应拦截\r\naxios.interceptors.response.use(res=>{\r\n  // console.group('本次响应路径为:'+res.config.url)\r\n  if(res.data.code !== 200){\r\n    // 提示错误信息\r\n    Toast.fail(res.data.msg);\r\n    return;\r\n  }\r\n  // console.log(res);\r\n  return res;\r\n})\r\n\r\n// 轮播图请求\r\nexport const getBanner = ()=>{\r\n    return axios({\r\n      method:'get',\r\n      url:baseURL+'/api/getbanner',\r\n    })\r\n  }\r\n  \r\n  // 首页商品信息请求\r\n  export const getIndexGoods = ()=>{\r\n    return axios({\r\n      method:'get',\r\n      url:baseURL+'/api/getindexgoods'\r\n    })\r\n  }\r\n\r\n  // 分类请求\r\nexport const getCateTree = ()=>{\r\n  return  axios({\r\n    method:'get',\r\n    url:baseURL+'/api/getcatetree',\r\n  })\r\n}\r\n\r\n\r\n// 获取商品列表\r\nexport const getGoodsList = (params)=>{\r\n  return axios({\r\n    method:'get',\r\n    url:baseURL+'/api/getgoods',\r\n    params,\r\n  })\r\n}\r\n\r\n// 注册\r\nexport const register = (data)=>{\r\n  return axios({\r\n    method:'post',\r\n    url:baseURL+'/api/register',\r\n    data:qs.stringify(data)\r\n  })\r\n}\r\n\r\n\r\n// 登录\r\nexport const login = (data)=>{\r\n  return axios({\r\n    method:'post',\r\n    url:baseURL+'/api/login',\r\n    data:qs.stringify(data),\r\n  })\r\n}\r\n\r\n// 获取购物车\r\nexport const getCartList = (params)=>{\r\n  return axios({\r\n    method:'get',\r\n    url:baseURL+'/api/cartlist',\r\n    params,\r\n  })\r\n}\r\n\r\n// 添加购物车\r\nexport const addCart = (data)=>{\r\n  return axios({\r\n    method:'post',\r\n    url:baseURL+'/api/cartadd',\r\n    data:qs.stringify(data)\r\n  })\r\n}\r\n\r\n// 删除购物车\r\nexport const delCart = (data)=>{\r\n  return axios({\r\n    method:'post',\r\n    url:baseURL+'/api/cartdelete',\r\n    data:qs.stringify(data)\r\n  })\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils/req.js"],"sourceRoot":""}